<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Exercise: Filesystems at HPC2N</title>
<!-- 2015-01-14 Wed 10:47 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>
<div id="content">
<h1 class="title">Exercise: Filesystems at HPC2N</h1>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Prerequisites</h2>
<div class="outline-text-2" id="text-1">
<p>
Before you start, you should do the following:
</p>
<ol class="org-ol">
<li>Learn how to <a href="../hpc2n-intro/instructions.html">sign in to Abisko</a>.
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Objectives</h2>
<div class="outline-text-2" id="text-2">
<p>
After completing this exercise you should be able to
</p>
<ol class="org-ol">
<li>Use two different filesystems on Abisko.
</li>
<li>Remember to save your important files on one filesystem and submit jobs from the other.
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Instructions</h2>
<div class="outline-text-2" id="text-3">
<p>
There are two main filesystems accessible on Abisko:
</p>
<dl class="org-dl">
<dt> AFS </dt><dd>This filesystem is for permanent storage. Your home directory
is located on this filesystem. Files are backed up
daily. This is where you keep everything important.
</dd>
<dt> PFS </dt><dd>This filesystem is the only one accessible from the compute
nodes. Hence, you have to use this filesystem for all
executables, input/output files, and job scripts that you
need to access through jobs submitted to the batch system.
</dd>
</dl>

<p>
You will in this exercise set up a convenient symbolic link from your home directory to your personal area on the PFS filesystem.
</p>

<p>
Instructions:
</p>
<ul class="org-ul">
<li>Sign in to Abisko.
</li>
<li>Run the <code>pwd</code> command to get the full path of your home directory (on the AFS filesystem).
</li>
<li>This path is also stored in the <code>HOME</code> environment variable, which you can view by running the command <code>echo $HOME</code>.
</li>
<li>The location of your area on the PFS filesystem is <code>/pfs/nobackup$HOME</code>. Run the command <code>echo /pfs/nobackup$HOME</code> to view the full path.
</li>
<li>Create a symbolic link called <code>pfs</code> in your home directory to your area on the PFS filesystem by running the command <code>ln -s /pfs/nobackup$HOME ~/pfs</code>.
</li>
<li>Now you can access your files on the PFS filesystem through the <code>~/pfs/</code> directory in your home directory.
</li>
</ul>
</div>

<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1">Typical workflow</h3>
<div class="outline-text-3" id="text-3-1">
<p>
A typical workflow when using Abisko is like this:
</p>
<ol class="org-ol">
<li>Develop a parallel program somehow and somewhere.
</li>
<li>Transfer the files to your AFS home directory, e.g., using the <code>scp</code> command or <code>sshfs</code> (see separate exercise!).
</li>
<li>Compile, link, and debug your program on the Abisko login node.
</li>
<li>Copy the executable and any input files to your PFS directory.
</li>
<li>Submit a job to the batch system <i>from your PFS directory</i> (see separate exercise!).
</li>
<li>Copy any output files you want to save for later back to the AFS home since PFS is only for temporary storage and files may be lost due to system failures or simply deleted to free disk space.
</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Resources</h2>
<div class="outline-text-2" id="text-4">
<p>
Useful links:
</p>
<ul class="org-ul">
<li><a href="http://www.hpc2n.umu.se/filesystems/overview">HPC2CN support page on filesystems</a>
</li>
</ul>
</div>
</div>
</div>
</body>
</html>
